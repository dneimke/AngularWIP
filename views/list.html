<h2>Work Backlog</h2>

<div id="stagesList" ng-controller="BacklogListController">
    <div class="stage">
        <h2>Aware</h2>
        <figure class="card" ng-repeat="item in backlogItems.Aware">
            <ng-include src="'dataItemTemplate'"></ng-include>
        </figure>
    </div>
    <div class="stage">
        <h2>Backlog</h2>
        <figure class="card" ng-repeat="item in backlogItems.Backlog">
            <ng-include src="'dataItemTemplate'"></ng-include>
        </figure>
    </div>
    <div class="stage">
        <h2>Scheduled</h2>
        <figure class="card" ng-repeat="item in backlogItems.Scheduled">
            <ng-include src="'dataItemTemplate'"></ng-include>
        </figure>
    </div>
    <div class="stage">
        <h2>InProgress</h2>
        <figure class="card" ng-repeat="item in backlogItems.InProgress">
            <ng-include src="'dataItemTemplate'"></ng-include>
        </figure>
    </div>
    <div class="stage">
        <h2>Delivery</h2>
        <figure class="card" ng-repeat="item in backlogItems.Delivery">
            <ng-include src="'dataItemTemplate'"></ng-include>
        </figure>
    </div>
</div>

<script type='text/ng-template' id="dataItemTemplate"> 
<h3 class="cardTitle"><a ng-href='/#/view/{{item.title}}'>{{item.title}}</a></h3>
<figcaption class="caption">{{item.description}}</figcaption>
<div class="actions">
    <div class="action-item" title="move left" ng-hide="item.phase == 1">
        <span class="icon-sm" ng-click='moveLeft(item)'><</span>
    </div>
    <div class="action-item" title="assigned to {{item.assignedTo}}">
        <span class="action-text">{{item.assignedTo}}</span>
    </div>
    <div class="action-item" title="due on {{item.dueDate}}">  
        <span class="action-text">{{item.dueDate}}</span>
    </div>
    <div class="action-icon" title="move right" ng-hide="item.phase == 5">  
        <span class="icon-sm" ng-click='moveRight(item)'>></span>
    </div>
</div>
</script> 